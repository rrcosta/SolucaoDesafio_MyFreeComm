Started GET "/" for 127.0.0.1 at 2017-11-26 13:08:21 -0200
  [1m[35m (19.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_navbar.html.erb (18.7ms)
Completed 200 OK in 2009ms (Views: 1980.2ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 13:08:53 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"bAbO+XgK71xl2sOELqWnSNtQzDR0inp+pe7mENkLWK7UIgO4pPu5Z65B/dOsQVLcZ8s9rnVWdptJUzZ8t9boDQ==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f2b2236f7c8 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-9122-1kbplcc.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 237834ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `formatFile'
app/models/example_input.rb:11:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-26 13:58:10 -0200
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_navbar.html.erb (0.7ms)
Completed 200 OK in 456ms (Views: 446.5ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 13:59:14 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"zXx6tSJ4If9qxx8Y0UlIRVxAjxFVSjp2t10CszNFFHV1WLf0/ol3xKFcIU9Trb3R4Nt+i1SWNpNb4NLfXZik1g==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f67d0b57b58 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-13983-1tf0equ.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (122.9ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Jo√£o Silva"], ["itemdescription", "R$10 off R$20 of food"], ["itemprice", 10.0], ["purchasecount", 2], ["merchantaddress", "987 Fake St"], ["merchantname", "Bob's Pizza"], ["created_at", "2017-11-26 15:59:14.433576"], ["updated_at", "2017-11-26 15:59:14.433576"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (78.7ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$10 off R$20 of food"], ["price", 10.0], ["created_at", "2017-11-26 15:59:14.598155"], ["updated_at", "2017-11-26 15:59:14.598155"]]
  [1m[35m (41.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (56.7ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jo√£o Silva"], ["count", 2], ["created_at", "2017-11-26 15:59:14.743315"], ["updated_at", "2017-11-26 15:59:14.743315"]]
  [1m[35m (52.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (58.2ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["name", "Bob's Pizza"], ["created_at", "2017-11-26 15:59:14.882417"], ["updated_at", "2017-11-26 15:59:14.882417"]]
  [1m[35m (42.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Amy Pond"], ["itemdescription", "R$30 of awesome for R$10"], ["itemprice", 10.0], ["purchasecount", 5], ["merchantaddress", "456 Unreal Rd"], ["merchantname", "Tom's Awesome Shop"], ["created_at", "2017-11-26 15:59:14.991654"], ["updated_at", "2017-11-26 15:59:14.991654"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$30 of awesome for R$10"], ["price", 10.0], ["created_at", "2017-11-26 15:59:15.001378"], ["updated_at", "2017-11-26 15:59:15.001378"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Amy Pond"], ["count", 5], ["created_at", "2017-11-26 15:59:15.011880"], ["updated_at", "2017-11-26 15:59:15.011880"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["name", "Tom's Awesome Shop"], ["created_at", "2017-11-26 15:59:15.025146"], ["updated_at", "2017-11-26 15:59:15.025146"]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Marty McFly"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 1], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 15:59:15.035451"], ["updated_at", "2017-11-26 15:59:15.035451"]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 15:59:15.045160"], ["updated_at", "2017-11-26 15:59:15.045160"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Marty McFly"], ["count", 1], ["created_at", "2017-11-26 15:59:15.060435"], ["updated_at", "2017-11-26 15:59:15.060435"]]
  [1m[35m (11.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 15:59:15.078481"], ["updated_at", "2017-11-26 15:59:15.078481"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Snake Plissken"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 4], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 15:59:15.090364"], ["updated_at", "2017-11-26 15:59:15.090364"]]
  [1m[35m (11.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 15:59:15.115252"], ["updated_at", "2017-11-26 15:59:15.115252"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snake Plissken"], ["count", 4], ["created_at", "2017-11-26 15:59:15.123197"], ["updated_at", "2017-11-26 15:59:15.123197"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 15:59:15.134039"], ["updated_at", "2017-11-26 15:59:15.134039"]]
  [1m[35m (60.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (59.7ms)[0m  [1m[32mINSERT INTO "revenues" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "example_input.csv"], ["value", 95.0], ["created_at", "2017-11-26 15:59:15.236042"], ["updated_at", "2017-11-26 15:59:15.236042"]]
  [1m[35m (43.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/revenues
Completed 302 Found in 972ms (ActiveRecord: 772.2ms)


Started GET "/revenues" for 127.0.0.1 at 2017-11-26 13:59:15 -0200
Processing by RevenuesController#index as HTML
  Rendering revenues/index.html.erb within layouts/application
  [1m[36mRevenue Load (33.8ms)[0m  [1m[34mSELECT "revenues".* FROM "revenues" ORDER BY created_at DESC[0m
  Rendered revenues/index.html.erb within layouts/application (43.5ms)
  Rendered shared/_navbar.html.erb (0.6ms)
Completed 200 OK in 302ms (Views: 240.7ms | ActiveRecord: 33.8ms)


Started GET "/example_inputs" for 127.0.0.1 at 2017-11-26 14:00:13 -0200
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.9ms)
  Rendered shared/_navbar.html.erb (2.6ms)
Completed 200 OK in 529ms (Views: 515.9ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 14:01:18 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"jdG3KoCuqmpLeYqMKj9wTI+DR0YiJvxMdn9VDfUEgAUyY+zsaBhKqjQ9eHfv3XveaBph1uvsZcif23hxDhsv2w==", "file"=>#<ActionDispatch::Http::UploadedFile:0x0055899c279338 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-14189-1xwliq9.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 3195919ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `formatFile'
app/models/example_input.rb:7:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-26 16:08:49 -0200
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.2ms)
  Rendered shared/_navbar.html.erb (0.7ms)
Completed 200 OK in 565ms (Views: 552.5ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 16:09:00 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"9csDyZ/UXom2aS/KE52tinCwaRJuM3pC5zGR9Emj6dRN786IQyUIsn3yEZ2ReVgezCuYiG/vdqcLjEGYJ35Zdw==", "file"=>#<ActionDispatch::Http::UploadedFile:0x00559a40665820 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-23947-29nuor.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
TypeError (no implicit conversion of ActionDispatch::Http::UploadedFile into String):
  
app/models/example_input.rb:14:in `extname'
app/models/example_input.rb:14:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-26 16:10:56 -0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (3.6ms)
  Rendered shared/_navbar.html.erb (0.7ms)
Completed 200 OK in 666ms (Views: 654.5ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 16:11:02 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"ugNyoEhHn3fIvuJm0/qpmQzywHp8eABlsM/YsNhDTMcCJ7/hlLbJTAMl3DFRHlwNsGkx4H2kDIBccgjctp78ZA==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007fc4fe01e6c0 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-25212-1w1yoha.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (17.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Jo√£o Silva"], ["itemdescription", "R$10 off R$20 of food"], ["itemprice", 10.0], ["purchasecount", 2], ["merchantaddress", "987 Fake St"], ["merchantname", "Bob's Pizza"], ["created_at", "2017-11-26 18:11:02.819286"], ["updated_at", "2017-11-26 18:11:02.819286"]]
  [1m[35m (33.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$10 off R$20 of food"], ["price", 10.0], ["created_at", "2017-11-26 18:11:02.892758"], ["updated_at", "2017-11-26 18:11:02.892758"]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jo√£o Silva"], ["count", 2], ["created_at", "2017-11-26 18:11:02.927959"], ["updated_at", "2017-11-26 18:11:02.927959"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["name", "Bob's Pizza"], ["created_at", "2017-11-26 18:11:02.963715"], ["updated_at", "2017-11-26 18:11:02.963715"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Amy Pond"], ["itemdescription", "R$30 of awesome for R$10"], ["itemprice", 10.0], ["purchasecount", 5], ["merchantaddress", "456 Unreal Rd"], ["merchantname", "Tom's Awesome Shop"], ["created_at", "2017-11-26 18:11:02.975970"], ["updated_at", "2017-11-26 18:11:02.975970"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$30 of awesome for R$10"], ["price", 10.0], ["created_at", "2017-11-26 18:11:02.987361"], ["updated_at", "2017-11-26 18:11:02.987361"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Amy Pond"], ["count", 5], ["created_at", "2017-11-26 18:11:02.998118"], ["updated_at", "2017-11-26 18:11:02.998118"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["name", "Tom's Awesome Shop"], ["created_at", "2017-11-26 18:11:03.009045"], ["updated_at", "2017-11-26 18:11:03.009045"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Marty McFly"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 1], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 18:11:03.022794"], ["updated_at", "2017-11-26 18:11:03.022794"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 18:11:03.031314"], ["updated_at", "2017-11-26 18:11:03.031314"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Marty McFly"], ["count", 1], ["created_at", "2017-11-26 18:11:03.043140"], ["updated_at", "2017-11-26 18:11:03.043140"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 18:11:03.053621"], ["updated_at", "2017-11-26 18:11:03.053621"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Snake Plissken"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 4], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 18:11:03.065433"], ["updated_at", "2017-11-26 18:11:03.065433"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 18:11:03.076066"], ["updated_at", "2017-11-26 18:11:03.076066"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snake Plissken"], ["count", 4], ["created_at", "2017-11-26 18:11:03.087520"], ["updated_at", "2017-11-26 18:11:03.087520"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 18:11:03.098352"], ["updated_at", "2017-11-26 18:11:03.098352"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "revenues" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "example_input.csv"], ["value", 95.0], ["created_at", "2017-11-26 18:11:03.128239"], ["updated_at", "2017-11-26 18:11:03.128239"]]
  [1m[35m (10.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/revenues
Completed 302 Found in 353ms (ActiveRecord: 211.3ms)


Started GET "/revenues" for 127.0.0.1 at 2017-11-26 16:11:03 -0200
Processing by RevenuesController#index as HTML
  Rendering revenues/index.html.erb within layouts/application
  [1m[36mRevenue Load (1.3ms)[0m  [1m[34mSELECT "revenues".* FROM "revenues" ORDER BY created_at DESC[0m
  Rendered revenues/index.html.erb within layouts/application (7.0ms)
  Rendered shared/_navbar.html.erb (0.9ms)
Completed 200 OK in 132ms (Views: 128.8ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-11-26 20:33:52 -0200
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.8ms)
  Rendered shared/_navbar.html.erb (0.6ms)
Completed 200 OK in 403ms (Views: 392.0ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 20:34:03 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"YvWLTowJFclJybYh0exkapdYdYYFZJwFT+V0Asmsweva0UYPUPhD8oJSiHZTCJH+K8OEHAS4kOCjWKRup3FxSA==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f75bc2cec80 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-13511-1mvwrz6.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Jo√£o Silva"], ["itemdescription", "R$10 off R$20 of food"], ["itemprice", 10.0], ["purchasecount", 2], ["merchantaddress", "987 Fake St"], ["merchantname", "Bob's Pizza"], ["created_at", "2017-11-26 22:34:03.038851"], ["updated_at", "2017-11-26 22:34:03.038851"]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$10 off R$20 of food"], ["price", 10.0], ["created_at", "2017-11-26 22:34:03.087717"], ["updated_at", "2017-11-26 22:34:03.087717"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jo√£o Silva"], ["count", 2], ["created_at", "2017-11-26 22:34:03.130568"], ["updated_at", "2017-11-26 22:34:03.130568"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["name", "Bob's Pizza"], ["created_at", "2017-11-26 22:34:03.177621"], ["updated_at", "2017-11-26 22:34:03.177621"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Amy Pond"], ["itemdescription", "R$30 of awesome for R$10"], ["itemprice", 10.0], ["purchasecount", 5], ["merchantaddress", "456 Unreal Rd"], ["merchantname", "Tom's Awesome Shop"], ["created_at", "2017-11-26 22:34:03.189974"], ["updated_at", "2017-11-26 22:34:03.189974"]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$30 of awesome for R$10"], ["price", 10.0], ["created_at", "2017-11-26 22:34:03.202594"], ["updated_at", "2017-11-26 22:34:03.202594"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Amy Pond"], ["count", 5], ["created_at", "2017-11-26 22:34:03.213398"], ["updated_at", "2017-11-26 22:34:03.213398"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["name", "Tom's Awesome Shop"], ["created_at", "2017-11-26 22:34:03.224242"], ["updated_at", "2017-11-26 22:34:03.224242"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Marty McFly"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 1], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 22:34:03.235924"], ["updated_at", "2017-11-26 22:34:03.235924"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 22:34:03.246496"], ["updated_at", "2017-11-26 22:34:03.246496"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Marty McFly"], ["count", 1], ["created_at", "2017-11-26 22:34:03.256351"], ["updated_at", "2017-11-26 22:34:03.256351"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 22:34:03.270048"], ["updated_at", "2017-11-26 22:34:03.270048"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Snake Plissken"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 4], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-26 22:34:03.278378"], ["updated_at", "2017-11-26 22:34:03.278378"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-26 22:34:03.290953"], ["updated_at", "2017-11-26 22:34:03.290953"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snake Plissken"], ["count", 4], ["created_at", "2017-11-26 22:34:03.304416"], ["updated_at", "2017-11-26 22:34:03.304416"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-26 22:34:03.311815"], ["updated_at", "2017-11-26 22:34:03.311815"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "revenues" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "example_input.csv"], ["value", 95.0], ["created_at", "2017-11-26 22:34:03.360741"], ["updated_at", "2017-11-26 22:34:03.360741"]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/revenues
Completed 302 Found in 373ms (ActiveRecord: 166.4ms)


Started GET "/revenues" for 127.0.0.1 at 2017-11-26 20:34:03 -0200
Processing by RevenuesController#index as HTML
  Rendering revenues/index.html.erb within layouts/application
  [1m[36mRevenue Load (1.0ms)[0m  [1m[34mSELECT "revenues".* FROM "revenues" ORDER BY created_at DESC[0m
  Rendered revenues/index.html.erb within layouts/application (8.4ms)
  Rendered shared/_navbar.html.erb (0.5ms)
Completed 200 OK in 163ms (Views: 159.8ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-11-26 22:55:35 -0200
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.6ms)
  Rendered shared/_navbar.html.erb (0.7ms)
Completed 200 OK in 425ms (Views: 415.0ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 22:56:19 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"vmFZtacIqy+FMTFOkNWpx+vcqv7ECXYPFsQpUB6d9rQGRZT0e/n9FE6qDxkSMVxTV0dbZMXVeur6efk8cEBGFw==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f3de4fbe9f0 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-28516-167m2ho.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 100789ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `formatFile'
app/models/example_input.rb:9:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-26 22:59:25 -0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.4ms)
  Rendered shared/_navbar.html.erb (0.5ms)
Completed 200 OK in 498ms (Views: 488.2ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-26 22:59:30 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"bGDbXNIdS892TNtbEVTg151KosU2V3ArXULwAqbyCInURBYdDuwd9L3X5QyTsBVDIdFTXzeLfM6x/yBuyC+4Kg==", "file"=>#<ActionDispatch::Http::UploadedFile:0x0055fe497c2480 @tempfile=#<Tempfile:/tmp/RackMultipart20171126-28817-i4ygxm.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 69259ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `formatFile'
app/models/example_input.rb:8:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-27 00:12:30 -0200
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (4.1ms)
  Rendered shared/_navbar.html.erb (0.5ms)
Completed 200 OK in 521ms (Views: 509.8ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-27 00:12:37 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"j2/y+wl7x3aBBhZYwL29DF+zXg1ccMxwoFIKNucQyS83Sz+61YqRTUqdKA9CWUiY4yivl12swJVM79paic15jA==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f49bc1ca040 @tempfile=#<Tempfile:/tmp/RackMultipart20171127-2822-1mn8k67.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Jo√£o Silva"], ["itemdescription", "R$10 off R$20 of food"], ["itemprice", 10.0], ["purchasecount", 2], ["merchantaddress", "987 Fake St"], ["merchantname", "Bob's Pizza"], ["created_at", "2017-11-27 02:12:37.316349"], ["updated_at", "2017-11-27 02:12:37.316349"]]
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$10 off R$20 of food"], ["price", 10.0], ["created_at", "2017-11-27 02:12:37.354148"], ["updated_at", "2017-11-27 02:12:37.354148"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jo√£o Silva"], ["count", 2], ["created_at", "2017-11-27 02:12:37.379463"], ["updated_at", "2017-11-27 02:12:37.379463"]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["name", "Bob's Pizza"], ["created_at", "2017-11-27 02:12:37.413889"], ["updated_at", "2017-11-27 02:12:37.413889"]]
  [1m[35m (12.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Amy Pond"], ["itemdescription", "R$30 of awesome for R$10"], ["itemprice", 10.0], ["purchasecount", 5], ["merchantaddress", "456 Unreal Rd"], ["merchantname", "Tom's Awesome Shop"], ["created_at", "2017-11-27 02:12:37.430719"], ["updated_at", "2017-11-27 02:12:37.430719"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$30 of awesome for R$10"], ["price", 10.0], ["created_at", "2017-11-27 02:12:37.441660"], ["updated_at", "2017-11-27 02:12:37.441660"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Amy Pond"], ["count", 5], ["created_at", "2017-11-27 02:12:37.456058"], ["updated_at", "2017-11-27 02:12:37.456058"]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["name", "Tom's Awesome Shop"], ["created_at", "2017-11-27 02:12:37.466745"], ["updated_at", "2017-11-27 02:12:37.466745"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Marty McFly"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 1], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-27 02:12:37.475031"], ["updated_at", "2017-11-27 02:12:37.475031"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-27 02:12:37.485901"], ["updated_at", "2017-11-27 02:12:37.485901"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Marty McFly"], ["count", 1], ["created_at", "2017-11-27 02:12:37.498389"], ["updated_at", "2017-11-27 02:12:37.498389"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-27 02:12:37.511503"], ["updated_at", "2017-11-27 02:12:37.511503"]]
  [1m[35m (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Snake Plissken"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 4], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-27 02:12:37.520117"], ["updated_at", "2017-11-27 02:12:37.520117"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-27 02:12:37.530219"], ["updated_at", "2017-11-27 02:12:37.530219"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snake Plissken"], ["count", 4], ["created_at", "2017-11-27 02:12:37.541714"], ["updated_at", "2017-11-27 02:12:37.541714"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-27 02:12:37.554986"], ["updated_at", "2017-11-27 02:12:37.554986"]]
  [1m[35m (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "revenues" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "example_input.csv"], ["value", 95.0], ["created_at", "2017-11-27 02:12:37.584857"], ["updated_at", "2017-11-27 02:12:37.584857"]]
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/revenues
Completed 302 Found in 310ms (ActiveRecord: 180.7ms)


Started GET "/revenues" for 127.0.0.1 at 2017-11-27 00:12:37 -0200
Processing by RevenuesController#index as HTML
  Rendering revenues/index.html.erb within layouts/application
  [1m[36mRevenue Load (1.0ms)[0m  [1m[34mSELECT "revenues".* FROM "revenues" ORDER BY created_at DESC[0m
  Rendered revenues/index.html.erb within layouts/application (8.2ms)
  Rendered shared/_navbar.html.erb (0.6ms)
Completed 200 OK in 167ms (Views: 162.8ms | ActiveRecord: 1.0ms)


  [1m[36mRevenue Load (0.4ms)[0m  [1m[34mSELECT  "revenues".* FROM "revenues" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/example_inputs" for 127.0.0.1 at 2017-11-27 00:14:24 -0200
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (1.9ms)
  Rendered shared/_navbar.html.erb (1.0ms)
Completed 200 OK in 175ms (Views: 166.2ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-27 00:14:28 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"mXNWUtcclpCDDJMggQTq3HeUaKHvAGTFtY5QV5LiRWcmwQ2UP6p2UPxIYdtE5uFOkA1OMSbK/UFcKn0raf3quQ==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f49ce696080 @tempfile=#<Tempfile:/tmp/RackMultipart20171127-2822-1sd4h2c.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
Completed 500 Internal Server Error in 908583ms (ActiveRecord: 0.0ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `formatFile'
app/models/example_input.rb:7:in `formatFile'
app/controllers/example_inputs_controller.rb:16:in `import'
Started GET "/" for 127.0.0.1 at 2017-11-27 01:23:53 -0200
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExampleInputsController#index as HTML
  Rendering example_inputs/index.html.erb within layouts/application
  Rendered example_inputs/index.html.erb within layouts/application (2.0ms)
  Rendered shared/_navbar.html.erb (1.7ms)
Completed 200 OK in 407ms (Views: 396.6ms | ActiveRecord: 0.0ms)


Started POST "/example_inputs/import" for 127.0.0.1 at 2017-11-27 01:23:58 -0200
Processing by ExampleInputsController#import as HTML
  Parameters: {"utf8"=>"‚úì", "authenticity_token"=>"7fzM8jK+yJ4ylZ75+93fJJTzoT1qSbQ7nN95xcBOWXFV2AGz7k+epfkOoK55OSqwKGhQp2uVuN5wYqmprpPp0g==", "file"=>#<ActionDispatch::Http::UploadedFile:0x007f0df84306b8 @tempfile=#<Tempfile:/tmp/RackMultipart20171127-9769-43ovv8.csv>, @original_filename="example_input.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"file\"; filename=\"example_input.csv\"\r\nContent-Type: text/csv\r\n">, "commit"=>"Importar arquivo"}
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Jo√£o Silva"], ["itemdescription", "R$10 off R$20 of food"], ["itemprice", 10.0], ["purchasecount", 2], ["merchantaddress", "987 Fake St"], ["merchantname", "Bob's Pizza"], ["created_at", "2017-11-27 03:24:37.113070"], ["updated_at", "2017-11-27 03:24:37.113070"]]
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$10 off R$20 of food"], ["price", 10.0], ["created_at", "2017-11-27 03:24:37.245896"], ["updated_at", "2017-11-27 03:24:37.245896"]]
  [1m[35m (13.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jo√£o Silva"], ["count", 2], ["created_at", "2017-11-27 03:24:37.358145"], ["updated_at", "2017-11-27 03:24:37.358145"]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "987 Fake St"], ["name", "Bob's Pizza"], ["created_at", "2017-11-27 03:24:37.460658"], ["updated_at", "2017-11-27 03:24:37.460658"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Amy Pond"], ["itemdescription", "R$30 of awesome for R$10"], ["itemprice", 10.0], ["purchasecount", 5], ["merchantaddress", "456 Unreal Rd"], ["merchantname", "Tom's Awesome Shop"], ["created_at", "2017-11-27 03:24:37.499826"], ["updated_at", "2017-11-27 03:24:37.499826"]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$30 of awesome for R$10"], ["price", 10.0], ["created_at", "2017-11-27 03:24:37.553563"], ["updated_at", "2017-11-27 03:24:37.553563"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Amy Pond"], ["count", 5], ["created_at", "2017-11-27 03:24:37.588877"], ["updated_at", "2017-11-27 03:24:37.588877"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "456 Unreal Rd"], ["name", "Tom's Awesome Shop"], ["created_at", "2017-11-27 03:24:37.632983"], ["updated_at", "2017-11-27 03:24:37.632983"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Marty McFly"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 1], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-27 03:24:37.668438"], ["updated_at", "2017-11-27 03:24:37.668438"]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-27 03:24:37.722580"], ["updated_at", "2017-11-27 03:24:37.722580"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Marty McFly"], ["count", 1], ["created_at", "2017-11-27 03:24:37.765452"], ["updated_at", "2017-11-27 03:24:37.765452"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-27 03:24:37.801239"], ["updated_at", "2017-11-27 03:24:37.801239"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "example_inputs" ("purchasername", "itemdescription", "itemprice", "purchasecount", "merchantaddress", "merchantname", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["purchasername", "Snake Plissken"], ["itemdescription", "R$20 Sneakers for R$5"], ["itemprice", 5.0], ["purchasecount", 4], ["merchantaddress", "123 Fake St"], ["merchantname", "Sneaker Store Emporium"], ["created_at", "2017-11-27 03:24:37.843533"], ["updated_at", "2017-11-27 03:24:37.843533"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "items" ("description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "R$20 Sneakers for R$5"], ["price", 5.0], ["created_at", "2017-11-27 03:24:37.898771"], ["updated_at", "2017-11-27 03:24:37.898771"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "purchasers" ("name", "count", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Snake Plissken"], ["count", 4], ["created_at", "2017-11-27 03:24:37.934990"], ["updated_at", "2017-11-27 03:24:37.934990"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "merchants" ("address", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["address", "123 Fake St"], ["name", "Sneaker Store Emporium"], ["created_at", "2017-11-27 03:24:37.975612"], ["updated_at", "2017-11-27 03:24:37.975612"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "revenues" ("name", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "example_input.csv"], ["value", 95.0], ["created_at", "2017-11-27 03:24:38.080069"], ["updated_at", "2017-11-27 03:24:38.080069"]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/revenues
Completed 500 Internal Server Error in 57320ms (ActiveRecord: 237.6ms)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `run_callbacks'
